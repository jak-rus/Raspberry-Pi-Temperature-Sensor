<!DOCTYPE html>
<html>

  <head>

    <title>Welcome to [NAME OF SENSOR DEVICE]!</title>

    <style>

      body {
        max-width: 500px;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
        text-align: center;

      }
      #data{
        color: blue;
        font-weight:bold;

      }
      
    </style>
  </head>
  <body onload="loadCurrentTemperature()">

    <h1>Welcome to Temp01!</h1>
    <p id="description" class="text">The server room temperature and humidity is : </p>
    <p>

      <p id = "data" class = "text" ></p>
      <br><br>
        
      <script>

        function loadCurrentTemperature() {

          const xhttp = new XMLHttpRequest();

          xhttp.onload = function () {
            const current_temperature = xhttp.responseText;
            console.log("current temp should print below this");
            console.log(current_temperature);
            updateTempOnPage(current_temperature);

          };

          xhttp.open("GET", "current.html");
          xhttp.send(null);
        }
        function updateTempOnPage(current_temperature){

          if(current_temperature === ""){
            document.getElementById("data").innerHTML = "Fetching Most Recent Reading";
          }
          else{
            document.getElementById("data").innerHTML = current_temperature;
          }

        }

        setInterval(function(){loadCurrentTemperature();}, 30000);
        
      </script>
    </p>
  </body>
</html>
